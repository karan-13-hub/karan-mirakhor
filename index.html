<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karan Mirakhor</title>
    <meta name="description" content="Graduate Researcher in Reinforcement Learning and Robotics at Carnegie Mellon University">
    <meta name="keywords" content="AI, Machine Learning, Robotics, Multi-Agent Systems, Reinforcement Learning">
    <meta name="author" content="Karan Mirakhor">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Karan Mirakhor">
    <meta property="og:description" content="Graduate Researcher in Reinforcement Learning and Robotics at Carnegie Mellon University">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Karan Mirakhor">
    <meta name="twitter:description" content="Graduate Researcher in Reinforcement Learning and Robotics at Carnegie Mellon University">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#64ffda',
                        'secondary': '#94a3b8',
                        'accent': '#0f172a',
                        'surface': '#1e293b'
                    }
                }
            }
        }
    </script>
    
    <style>
        :root {
            /* Light theme (default) */
            --bg-primary: #f8fafc;
            --bg-secondary: #f1f5f9;
            --bg-card: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.9) 100%);
            --bg-nav: rgba(255, 255, 255, 0.95);
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --text-muted: #475569;
            --accent-primary: #4f46e5;
            --accent-secondary: #7c3aed;
            --border-color: rgba(79, 70, 229, 0.2);
            --border-hover: #4f46e5;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --particle-color: rgba(79, 70, 229, 0.6);
            --particle-glow: rgba(79, 70, 229, 0.2);
        }

        [data-theme="dark"] {
            /* Dark theme */
            --bg-primary: #0f172a;
            --bg-secondary: rgba(30, 41, 59, 0.3);
            --bg-card: linear-gradient(135deg, rgba(17, 34, 64, 0.8) 0%, rgba(15, 27, 46, 0.8) 100%);
            --bg-nav: rgba(15, 23, 42, 0.98);
            --text-primary: #e2e8f0;
            --text-secondary: #94a3b8;
            --text-muted: #a8b2d1;
            --accent-primary: #64ffda;
            --accent-secondary: #00d4ff;
            --border-color: rgba(100, 255, 218, 0.2);
            --border-hover: #64ffda;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --particle-color: rgba(100, 255, 218, 0.8);
            --particle-glow: rgba(100, 255, 218, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            position: relative;
        }
        
        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: var(--bg-nav);
            backdrop-filter: blur(15px);
            z-index: 1000;
            padding: 1.2rem 0;
            transition: all 0.3s ease;
            border-bottom: 1px solid var(--border-color);
            transform: translateZ(0);
            will-change: transform;
        }
        
        .nav-container {
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            width: 100%;
        }

        .nav-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
            position: absolute;
            right: 0;
        }

        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 4px;
            transition: all 0.3s ease;
            position: absolute;
            left: 20px;
            z-index: 1003;
            min-width: 40px;
            min-height: 40px;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }

        .theme-toggle {
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 6px;
            transition: all 0.3s ease;
            min-width: 44px;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle:hover {
            color: var(--accent-primary);
            background: var(--border-color);
        }
        
        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }
        
        
        .mobile-menu-toggle:hover {
            color: var(--accent-primary);
            background: var(--border-color);
        }
        
        .mobile-nav {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--bg-nav);
            backdrop-filter: blur(15px);
            border-top: 1px solid var(--border-color);
            padding: 0.5rem 0;
            z-index: 1002;
            pointer-events: auto;
        }
        
        .mobile-nav.active {
            display: block;
        }
        
        .mobile-nav-links {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
            padding: 0 1rem;
        }
        
        .mobile-nav-links a {
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            padding: 0.75rem 1rem;
            border-radius: 6px;
            transition: all 0.3s ease;
            display: block;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            position: relative;
            z-index: 1001;
            pointer-events: auto;
        }
        
        .mobile-nav-links a:hover {
            color: var(--accent-primary);
            background: var(--border-color);
        }
        
        .mobile-nav-links a.active {
            color: var(--accent-primary);
            background: var(--border-color);
            pointer-events: auto;
        }

        
        .nav-links a {
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            transition: all 0.3s ease;
        }
        
        .nav-links a:hover {
            color: var(--accent-primary);
            background: var(--border-color);
            transform: translateY(-1px);
        }
        
        .nav-links a.active {
            color: var(--accent-primary);
            background: var(--border-color);
            box-shadow: 0 2px 8px var(--border-color);
        }
        
        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 25% 25%, rgba(100, 255, 218, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 75% 75%, rgba(100, 255, 218, 0.1) 0%, transparent 50%);
            z-index: -1;
        }
        
        /* Particle Animation Background */
        #particles-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
        
        .particle {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, var(--particle-color) 0%, var(--particle-glow) 70%, transparent 100%);
            box-shadow: 0 0 20px var(--particle-glow);
            transition: all 0.3s ease;
        }
        
        .particle.highlighted {
            background: radial-gradient(circle, var(--accent-primary) 0%, var(--accent-primary) 70%, transparent 100%);
            box-shadow: 0 0 30px var(--particle-glow);
            transform: scale(1.5);
        }
        
        .connection-line {
            position: absolute;
            background: linear-gradient(90deg, transparent 0%, var(--particle-glow) 50%, transparent 100%);
            height: 1px;
            transform-origin: left center;
            transition: all 0.3s ease;
        }
        
        .connection-line.highlighted {
            background: linear-gradient(90deg, transparent 0%, var(--accent-primary) 50%, transparent 100%);
            box-shadow: 0 0 10px var(--particle-glow);
        }
        
        .hero-content h1 {
            font-size: 4rem;
            font-weight: bold;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }
        
        #greeting {
            display: inline-block;
            transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;
            opacity: 1;
            font-size: 2.75rem; /* larger font */
            font-weight: 600; /* less bold */
            transform: translateY(0);
        }
        
        .hero-content .subtitle {
            font-size: 2rem;
            color: var(--accent-primary);
            margin-bottom: 1rem;
        }
        
        .subtitle .highlight {
            color: var(--accent-primary);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .subtitle .highlight:hover {
            color: var(--accent-secondary);
            text-shadow: 0 0 10px var(--particle-glow);
        }
        
        .hero-content .description {
            font-size: 1.4rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .profile-image {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            margin: 0 auto 2rem auto;
            border: 4px solid var(--accent-primary);
            box-shadow: 0 0 30px var(--particle-glow);
            object-fit: cover;
            display: block;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .profile-image:hover {
            transform: scale(1.05);
            box-shadow: 0 0 40px var(--particle-glow);
        }
        
        .social-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .social-links a {
            color: var(--text-secondary);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: color 0.3s ease;
        }
        
        .social-links a:hover {
            color: var(--accent-primary);
        }
        
        .social-link {
            color: #94a3b8;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
            margin: 0 0.5rem;
        }
        
        .social-link:hover {
            color: #64ffda;
            background: rgba(100, 255, 218, 0.1);
        }
        
        /* Sections */
        .section {
            padding: 5rem 0;
        }
        
        .section:nth-child(even) {
            background: var(--bg-secondary);
        }
        
        .section-title {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 3rem;
            color: var(--text-primary);
        }
        
        .section-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }
        
        #publications .section-content,
        #projects .section-content {
            max-width: none;
        }
        
        .section-content p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            line-height: 1.6;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-number {
            font-size: 3rem;
            font-weight: bold;
            color: var(--accent-primary);
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            color: var(--text-secondary);
        }
        
        /* Cards */
        .cards {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
            margin-top: 3rem;
            max-width: 1600px;
            margin-left: auto;
            margin-right: auto;
        }

        
        .card {
            background: var(--bg-card);
            padding: 2rem 3.5rem;
            border-radius: 16px;
            border: 1px solid var(--border-color);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            box-shadow: 0 4px 6px -1px var(--shadow-color), 0 2px 4px -1px var(--shadow-color);
            position: relative;
            overflow: visible;
            min-height: 200px;
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        
        .card:hover::before {
            transform: scaleX(1);
        }
        
        .card:hover {
            border-color: var(--accent-primary);
            transform: translateY(-8px);
            box-shadow: 0 20px 25px -5px var(--shadow-color), 0 10px 10px -5px var(--shadow-color), 0 0 0 1px var(--border-color);
        }
        
        .card h3 {
            color: var(--text-primary);
            margin-bottom: 1rem;
            font-size: 1.3rem;
            font-weight: 700;
            line-height: 1.3;
            transition: color 0.3s ease;
        }
        
        .card:hover h3 {
            color: var(--accent-primary);
        }
        
        .card p {
            color: var(--text-muted);
            margin-bottom: 0;
            line-height: 1.4;
            font-size: 1rem;
            transition: color 0.3s ease;
        }
        
        .card:hover p {
            color: var(--text-primary);
        }
        
        /* Contact Section */
        .contact-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 2rem;
        }
        
        .contact-tile {
            background: var(--bg-card);
            padding: 2.5rem 3rem;
            border-radius: 16px;
            border: 1px solid var(--border-color);
            text-align: center;
            max-width: 400px;
            width: 100%;
            box-shadow: 0 4px 6px -1px var(--shadow-color), 0 2px 4px -1px var(--shadow-color);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .contact-tile::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        
        .contact-tile:hover::before {
            transform: scaleX(1);
        }
        
        .contact-tile:hover {
            transform: translateY(-5px);
            border-color: var(--accent-primary);
            box-shadow: 0 20px 25px -5px var(--shadow-color), 0 10px 10px -5px var(--shadow-color), 0 0 0 1px var(--border-color);
        }
        
        .contact-tile h3 {
            color: var(--text-primary);
            margin-bottom: 1rem;
            font-size: 1.4rem;
            font-weight: 700;
            line-height: 1.3;
            transition: color 0.3s ease;
        }
        
        .contact-tile:hover h3 {
            color: var(--accent-primary);
        }
        
        .contact-tile p {
            color: var(--text-muted);
            margin-bottom: 1.5rem;
            line-height: 1.5;
            font-size: 1.1rem;
            transition: color 0.3s ease;
        }
        
        .contact-tile:hover p {
            color: var(--text-primary);
        }
        
        .contact-tile a {
            color: var(--accent-primary);
            text-decoration: none;
            font-weight: 600;
            font-size: 1rem;
            padding: 0.75rem 1.5rem;
            border: 2px solid var(--accent-primary);
            border-radius: 8px;
            display: inline-block;
            transition: all 0.3s ease;
        }
        
        .contact-tile a:hover {
            background: var(--accent-primary);
            color: var(--bg-primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px var(--particle-glow);
        }
        
        /* Publications Section */
        .publications-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .publication-tile {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 2rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .publication-tile:hover {
            border-color: var(--accent-primary);
            box-shadow: 0 8px 25px var(--shadow-color);
            transform: translateY(-2px);
        }
        
        .publication-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .publication-type {
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .publication-type.submission {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
            border: 1px solid rgba(255, 193, 7, 0.3);
        }
        
        .publication-type.publication {
            background: var(--border-color);
            color: var(--accent-primary);
            border: 1px solid var(--accent-primary);
        }
        
        .publication-type.patent {
            background: rgba(168, 85, 247, 0.2);
            color: #a855f7;
            border: 1px solid rgba(168, 85, 247, 0.3);
        }
        
        .publication-date {
            color: var(--text-secondary);
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .publication-tile h3 {
            color: var(--text-primary);
            font-size: 1.3rem;
            font-weight: 700;
            line-height: 1.4;
            margin-bottom: 0.8rem;
            transition: color 0.3s ease;
        }
        
        .publication-tile:hover h3 {
            color: var(--accent-primary);
        }
        
        .authors {
            color: var(--text-muted);
            font-size: 1rem;
            margin-bottom: 0.5rem;
            font-style: italic;
        }
        
        .venue {
            color: var(--accent-primary);
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 1.2rem;
        }
        
        
        .abstract-full {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }
        
        .abstract-full p {
            color: var(--text-muted);
            line-height: 1.6;
            font-size: 0.95rem;
        }
        
        .publication-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .publication-actions.mobile-stacked {
            flex-direction: column;
            gap: 0.8rem;
            align-items: center;
            margin-top: 1rem;
        }
        
        .publication-link {
            color: var(--accent-primary);
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9rem;
            padding: 0.5rem 1rem;
            border: 1px solid var(--accent-primary);
            border-radius: 6px;
            transition: all 0.3s ease;
            display: inline-block;
        }
        
        .publication-link:hover {
            background: var(--accent-primary);
            color: var(--bg-primary);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px var(--particle-glow);
        }
        
        .expand-btn {
            background: transparent;
            border: 1px solid var(--accent-primary);
            color: var(--accent-primary);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .expand-btn:hover {
            background: var(--accent-primary);
            color: var(--bg-primary);
            transform: translateY(-1px);
        }
        
        .expand-icon {
            transition: transform 0.3s ease;
        }
        
        .expand-btn.expanded .expand-icon {
            transform: rotate(180deg);
        }
        
        .card a {
            color: var(--accent-primary);
            text-decoration: none;
            font-weight: 500;
        }
        
        .card a:hover {
            text-decoration: underline;
        }
        
        /* Projects Section - Horizontal tiles */
        .projects-container {
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
            margin-top: 2rem;
        }

        .project-tile {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 14px;
            padding: 1.5rem 2rem 3.25rem 2rem; /* extra bottom space for + button */
            display: flex;
            align-items: flex-start;
            gap: 1.25rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden; /* ensure inner content doesn't spill outside */
        }

        .project-tile:hover {
            border-color: var(--accent-primary);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px var(--shadow-color);
        }

        .project-content h3 {
            color: var(--text-primary);
            margin-bottom: 0.4rem;
            font-size: 1.35rem; /* ~ +2pt from 1.2rem */
            font-weight: 600; /* slightly less bold */
            line-height: 1.35;
        }

        .project-content {
            text-align: left; /* override section center alignment */
            width: 100%;
        }

        .project-summary {
            color: var(--text-muted);
            font-size: 1rem;
            line-height: 1.5;
            display: -webkit-box; /* clamp to 1 line across widths */
            -webkit-line-clamp: 1;
            -webkit-box-orient: vertical;
            line-clamp: 1;
            overflow: hidden;
            max-width: 100%;
        }

        .project-details {
            display: none;
            margin-top: 0.5rem;
        }

        .project-tile.expanded .project-details {
            display: block;
        }

        /* When expanded, show full summary (no clamp) so first line is readable above details */
        .project-tile.expanded .project-summary {
            display: block;
            -webkit-line-clamp: unset;
            line-clamp: unset;
            -webkit-box-orient: vertical;
            white-space: normal;
            overflow: visible;
        }

        .project-links a { color: var(--accent-primary); text-decoration: none; font-weight: 500; }
        .project-links a:hover { text-decoration: underline; }

        .project-toggle {
            position: absolute;
            left: 50%;
            bottom: 0.8rem;
            transform: translateX(-50%);
        }

        .project-toggle button {
            width: 36px;
            height: 36px;
            border-radius: 9999px;
            border: 1px solid var(--accent-primary);
            background: transparent;
            color: var(--accent-primary);
            font-size: 1.2rem;
            line-height: 1;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .project-toggle button:hover {
            background: var(--accent-primary);
            color: var(--bg-primary);
        }

        @media (max-width: 768px) {
            .project-content h3 { font-size: 1.25rem; }
            .project-summary { font-size: 0.95rem; }
        }

        /* Project header (title + links on same line) */
        .project-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.25rem;
        }
        .project-header h3 { flex: 1 1 auto; word-break: break-word; }
        .project-links-top { display: flex; gap: 0.6rem; }
        .project-links-top a {
            color: var(--accent-primary);
            text-decoration: none;
            font-weight: 600;
            border: 1px solid var(--accent-primary);
            padding: 0.2rem 0.5rem;
            border-radius: 6px;
            font-size: 0.85rem;
        }
        .project-links-top a:hover { background: var(--accent-primary); color: var(--bg-primary); }

        /* Awards Section */
        .awards-container {
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
            margin-top: 2rem;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        .award-tile {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 14px;
            padding: 1.5rem 2rem;
            display: flex;
            align-items: flex-start;
            gap: 1.25rem;
            transition: all 0.3s ease;
        }

        .award-tile:hover {
            border-color: var(--accent-primary);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px var(--shadow-color);
        }

        .award-meta {
            min-width: 120px;
            max-width: 140px;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 0.4rem;
        }

        .award-year {
            display: inline-block;
            border: 1px solid var(--accent-primary);
            color: var(--accent-primary);
            padding: 0.25rem 0.6rem;
            border-radius: 9999px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .award-content h3 {
            color: var(--text-primary);
            margin-bottom: 0.4rem;
            font-size: 1.15rem;
            line-height: 1.35;
        }

        .award-content p {
            color: var(--text-muted);
            margin-bottom: 0.4rem;
            font-size: 0.98rem;
            line-height: 1.5;
            display: none; /* hidden by default */
        }

        .award-tile.expanded .award-content p {
            display: block; /* reveal when expanded */
        }
        
        .award-tile {
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .award-tile {
                flex-direction: column;
                gap: 0.75rem;
                padding: 1.25rem 1.25rem;
            }
            .award-meta {
                min-width: auto;
                max-width: none;
                flex-direction: row;
                gap: 0.75rem;
            }
        }

        /* Footer */
        footer {
            background: var(--bg-primary);
            padding: 2rem 0;
            text-align: center;
            border-top: 1px solid var(--border-color);
        }
        
        /* About Section Styling */
        .about-content .accent-link {
            color: var(--accent-primary);
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .about-content .accent-link:hover {
            color: var(--text-secondary);
            text-decoration: underline;
        }
        
        .about-content strong {
            color: var(--accent-primary);
            font-weight: 600;
        }

        /* Match About section paragraph font-size to Research intro */
        #about p {
            font-size: 1.04rem; /* reduced by another ~1pt */
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero-content h1 {
                font-size: 2.5rem;
            }
            
            .hero-content .description {
                font-size: 1.2rem;
            }
            
            .profile-image {
                width: 150px;
                height: 150px;
            }
            
            .nav-links {
                display: none;
            }
            
            .nav-controls {
                right: 20px;
            }
            
            .theme-toggle {
                display: flex;
            }
            
            .mobile-menu-toggle {
                display: block;
                left: 20px;
                font-size: 1.2rem;
                min-width: 40px;
                min-height: 40px;
            }
            
            .mobile-nav-links a {
                font-size: 1.1rem;
                padding: 0.8rem 1rem;
                touch-action: manipulation;
                -webkit-tap-highlight-color: transparent;
            }
            
            .mobile-nav {
                padding: 0.25rem 0;
            }
            
            nav {
                padding: 1.2rem 0;
            }
            
            .nav-container {
                padding: 0;
            }
            
            
            .social-links {
                flex-direction: column;
                gap: 1rem;
            }
            
            .section-content p {
                font-size: 1.1rem;
            }
            #about p {
                font-size: 0.94rem; /* reduced by another ~1pt */
            }
            
            .cards {
                grid-template-columns: 1fr;
                gap: 1.5rem;
                max-width: 100%;
            }
            
            
            .card {
                padding: 1.8rem 2.5rem;
                min-height: 180px;
            }
            
            .card h3 {
                font-size: 1.2rem;
            }
            
            .card p {
                font-size: 0.95rem;
            }
            
            .contact-tile {
                padding: 2rem 2rem;
                max-width: 350px;
            }
            
            .contact-tile h3 {
                font-size: 1.2rem;
            }
            
            .contact-tile p {
                font-size: 1rem;
            }
            
            .contact-tile a {
                font-size: 0.9rem;
                padding: 0.6rem 1.2rem;
            }
            
            .publication-tile {
                padding: 1.5rem;
            }
            
            .publication-tile h3 {
                font-size: 1.1rem;
            }
            
            .authors, .venue {
                font-size: 0.9rem;
            }
            
            .abstract-full p {
                font-size: 0.9rem;
            }
            
            .publication-actions {
                flex-direction: column;
                gap: 0.8rem;
                align-items: center;
                margin-top: 1rem;
            }
            
            .publication-link {
                font-size: 0.85rem;
                padding: 0.4rem 0.8rem;
                text-align: center;
                width: 100%;
                max-width: 200px;
            }
            
            .expand-btn {
                width: 100%;
                max-width: 200px;
                justify-content: center;
            }
        }
        
        /* iPad and medium device navigation */
        @media (max-width: 1024px) and (min-width: 769px) {
            .nav-links {
                gap: 1.2rem;
            }
            
            .nav-links a {
                font-size: 0.95rem;
                padding: 0.4rem 0.7rem;
            }
            
            .hero-content .description {
                font-size: 1.3rem;
            }
            
            .section-content p {
                font-size: 1.15rem;
            }
            #about p {
                font-size: 0.99rem; /* reduced by another ~1pt */
            }
            
            .cards {
                grid-template-columns: repeat(2, 1fr);
                gap: 1.5rem;
                max-width: 1400px;
            }
            
            
            .card {
                padding: 1.8rem 3rem;
                min-height: 190px;
            }
            
            .card h3 {
                font-size: 1.3rem;
            }
            
            .card p {
                font-size: 1rem;
            }
            
            .contact-tile {
                padding: 2.2rem 2.5rem;
                max-width: 380px;
            }
            
            .contact-tile h3 {
                font-size: 1.3rem;
            }
            
            .contact-tile p {
                font-size: 1.05rem;
            }
            
            .contact-tile a {
                font-size: 0.95rem;
                padding: 0.7rem 1.3rem;
            }
            
            .publication-tile {
                padding: 1.8rem;
            }
            
            .publication-tile h3 {
                font-size: 1.2rem;
            }
            
            .authors, .venue {
                font-size: 0.95rem;
            }
            
            .abstract-full p {
                font-size: 0.9rem;
            }
            
            .publication-actions {
                flex-direction: column;
                gap: 0.8rem;
                align-items: center;
                margin-top: 1rem;
            }
            
            .publication-link {
                font-size: 0.85rem;
                padding: 0.4rem 0.8rem;
                text-align: center;
                width: 100%;
                max-width: 200px;
            }
            
            .expand-btn {
                width: 100%;
                max-width: 200px;
                justify-content: center;
            }
        }
        
        /* Large tablet responsive design */
        @media (max-width: 1200px) and (min-width: 1025px) {
            .nav-links {
                gap: 1.5rem;
            }
            
            .nav-links a {
                font-size: 1rem;
                padding: 0.4rem 0.8rem;
            }
        }

    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="container">
        <div class="nav-container">
            <ul class="nav-links">
                <li><a href="#about">About</a></li>
                <li><a href="#research">Research</a></li>
                <li><a href="#publications">Publications</a></li>
                <li><a href="#projects">Projects</a></li>
                <li><a href="#awards">Awards</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <div class="nav-controls">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
            <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle mobile menu">
                <i class="fas fa-bars"></i>
            </button>
        </div>
            <div class="mobile-nav" id="mobile-nav">
                <ul class="mobile-nav-links">
                    <li><a href="#about">About</a></li>
                    <li><a href="#research">Research</a></li>
                    <li><a href="#publications">Publications</a></li>
                    <li><a href="#projects">Projects</a></li>
                    <li><a href="#awards">Awards</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div id="particles-canvas"></div>
        <div class="container">
            <div class="hero-content">
                <h2 class="subtitle"><span id="greeting">Hello!!</span></h2>
                <img src="./content/profile.jpeg" alt="Karan Mirakhor" class="profile-image" onerror="this.style.display='none'">
                <h1>Karan Mirakhor</h1>
                
                <div class="social-links">
                    <a href="https://scholar.google.com/citations?user=wpeFm64AAAAJ&hl=en" target="_blank">
                        <i class="fas fa-graduation-cap"></i> Google Scholar
                    </a>
                    <a href="https://github.com/karan-13-hub" target="_blank">
                        <i class="fab fa-github"></i> GitHub
                    </a>
                    <a href="https://www.linkedin.com/in/karan-mirakhor-b065b7142/" target="_blank">
                        <i class="fab fa-linkedin"></i> LinkedIn
                    </a>
                    <a href="https://drive.google.com/file/d/1l_eqqx5Yj0VHMLLEFMwIw9SPhR8qlddx/view?usp=sharing" target="_blank">
                        <i class="fas fa-file-lines"></i> Resume
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-20" style="background: var(--bg-primary);">
        <div class="container mx-auto px-6 max-w-6xl">
            <!-- Section Header -->
            <div class="text-center mb-16">
                <h2 class="text-5xl font-bold mb-4 tracking-wide" style="color: var(--text-primary);">About Me</h2>
                <div class="w-24 h-1 mx-auto rounded-full" style="background: var(--accent-primary);"></div>
            </div>

            <!-- Main Content Container -->
            <div class="prose prose-lg max-w-none">
                <!-- Introduction Card -->
                <div class="backdrop-blur-sm rounded-2xl p-8 mb-12 border shadow-2xl" style="background: var(--bg-card); border-color: var(--border-color);">
                    <div class="text-center mb-8">
                        <p class="text-xl leading-relaxed" style="color: var(--text-secondary);">
                            I am a 2<sup>nd</sup> year Master of Science in Robotics (MSR) student at <a href="https://www.ri.cmu.edu/" target="_blank" class="transition-colors duration-300 font-semibold" style="color: var(--accent-primary);" onmouseover="this.style.color='var(--text-primary)'" onmouseout="this.style.color='var(--accent-primary)'">Robotics Institute, Carnegie Mellon University</a>
                        </p>
                    </div>
                    
                    <div class="text-center space-y-2">
                        <p class="text-lg" style="color: var(--text-secondary);">
                            <span class="font-semibold" style="color: var(--accent-primary);">Graduate Research Assistant,</span> 
                            <a href="https://www.ri.cmu.edu/labs/advanced-agent-robotics-technology-lab/" target="_blank" class="transition-colors duration-300 font-medium" style="color: var(--accent-primary);" onmouseover="this.style.color='var(--text-primary)'" onmouseout="this.style.color='var(--accent-primary)'">Advanced Agent Robotics Technology Lab</a>
                        </p>
                        <p class="text-lg" style="color: var(--text-secondary);">
                            <span class="font-semibold" style="color: var(--accent-primary);">Advisor:</span> 
                            <a href="https://www.ri.cmu.edu/ri-people/katia-sycara/" target="_blank" class="transition-colors duration-300 font-medium" style="color: var(--accent-primary);" onmouseover="this.style.color='var(--text-primary)'" onmouseout="this.style.color='var(--accent-primary)'">Prof. Katia Sycara</a>
                        </p>
                    </div>
                </div>

                <!-- Research Focus -->
                <div class="mb-12">
                    <h3 class="text-2xl font-bold mb-6 flex items-center" style="color: var(--text-primary);">
                        <span class="text-3xl mr-3">🔬</span>
                        Research Focus
                    </h3>
                    <p class="text-lg leading-relaxed mb-8" style="color: var(--text-secondary);">
                        My research primarily focuses on <span class="font-semibold" style="color: var(--accent-primary);">Multi-Agent Reinforcement Learning (MARL)</span>. 
                        Specifically, my work encompasses two key areas:
                    </p>
                </div>

                <!-- Research Areas Grid -->
                <div class="grid md:grid-cols-2 gap-8 mb-16">
                    <!-- Zero-shot Coordination -->
                    <div class="group backdrop-blur-sm rounded-xl p-6 border transition-all duration-300 hover:shadow-lg" style="background: var(--bg-card); border-color: var(--border-color);" onmouseover="this.style.borderColor='var(--accent-primary)'" onmouseout="this.style.borderColor='var(--border-color)'">
                        <h4 class="text-xl font-bold mb-4 flex items-center transition-colors duration-300" style="color: var(--text-primary);" onmouseover="this.style.color='var(--accent-primary)'" onmouseout="this.style.color='var(--text-primary)'">
                            <span class="text-2xl mr-3">🧠</span>
                            Zero-shot Coordination in Cooperative MARL
                        </h4>
                        <p class="leading-relaxed" style="color: var(--text-secondary);">
                            Developing agents that can seamlessly collaborate with previously unseen partners without additional training. 
                            Specifically, I focus on offline-to-online training frameworks that leverage 
                            behavioral diversity in offline datasets and enable efficient online adaptation.
                        </p>
                    </div>

                    <!-- Competitive MARL -->
                    <div class="group backdrop-blur-sm rounded-xl p-6 border transition-all duration-300 hover:shadow-lg" style="background: var(--bg-card); border-color: var(--border-color);" onmouseover="this.style.borderColor='var(--accent-primary)'" onmouseout="this.style.borderColor='var(--border-color)'">
                        <h4 class="text-xl font-bold mb-4 flex items-center transition-colors duration-300" style="color: var(--text-primary);" onmouseover="this.style.color='var(--accent-primary)'" onmouseout="this.style.color='var(--text-primary)'">
                            <span class="text-2xl mr-3">🎭</span>
                            Targeted Deception in Competitive MARL
                        </h4>
                        <p class="leading-relaxed" style="color: var(--text-secondary);">
                            Developing targeted deception strategies by leveraging higher-order opponent belief models and analyzing 
                            historical response patterns to identify and exploit individual vulnerabilities.
                        </p>
                    </div>
                </div>

                <!-- Previous Research Experience -->
                <div class="mb-16">
                    <h3 class="text-2xl font-bold mb-8 flex items-center" style="color: var(--text-primary);">
                        <span class="text-3xl mr-3">📚</span>
                        Previous Experience
                    </h3>
                    
                    <div class="space-y-8">
                        <!-- TCS Research -->
                        <div class="backdrop-blur-sm rounded-xl p-6 border transition-all duration-300" style="background: var(--bg-card); border-color: var(--border-color);" onmouseover="this.style.borderColor='var(--text-secondary)'" onmouseout="this.style.borderColor='var(--border-color)'">
                            <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-4">
                                <h4 class="text-xl font-bold mb-2 md:mb-0" style="color: var(--text-primary);">
                                    Pre-doctoral Research Fellow
                                </h4>
                                <a href="https://www.tcs.com/what-we-do/research" target="_blank" class="transition-colors duration-300 font-semibold text-lg" style="color: var(--accent-primary);" onmouseover="this.style.color='var(--text-primary)'" onmouseout="this.style.color='var(--accent-primary)'">
                                    TCS Research
                                </a>
                            </div>
                            <p class="mb-3" style="color: var(--text-secondary);">
                                <em>Advisor: <a href="https://scholar.google.co.in/citations?user=Eqf8NrEAAAAJ&hl=en" target="_blank" class="transition-colors duration-300" style="color: var(--accent-primary);" onmouseover="this.style.color='var(--text-primary)'" onmouseout="this.style.color='var(--accent-primary)'">Dr. Brojeshwar Bhowmick</a></em>
                            </p>
                            <p class="leading-relaxed" style="color: var(--text-secondary);">
                                Explored <span class="font-semibold" style="color: var(--accent-primary);">Task Planning for Indoor Object Rearrangement</span> under 
                                <span class="font-semibold" style="color: var(--accent-primary);">partial observability (POMDP)</span>. Developed scalable graph-based scene representations, utilized <span class="font-semibold" style="color: var(--accent-primary);">Large Language Models (LLMs)</span> for semantic object search, and applied <span class="font-semibold" style="color: var(--accent-primary);">Deep RL</span> for efficient single and multi-room planning.
                            </p>
                        </div>

                        <!-- IIIT Hyderabad -->
                        <div class="backdrop-blur-sm rounded-xl p-6 border transition-all duration-300" style="background: var(--bg-card); border-color: var(--border-color);" onmouseover="this.style.borderColor='var(--text-secondary)'" onmouseout="this.style.borderColor='var(--border-color)'">
                            <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-4">
                                <h4 class="text-xl font-bold mb-2 md:mb-0" style="color: var(--text-primary);">
                                    Research Assistant
                                </h4>
                                <span class="text-lg">
                                    <a href="https://robotics.iiit.ac.in/" target="_blank" class="transition-colors duration-300 font-semibold" style="color: var(--accent-primary);" onmouseover="this.style.color='var(--text-primary)'" onmouseout="this.style.color='var(--accent-primary)'">Robotics Research Center</a>, 
                                    <a href="https://www.iiit.ac.in/" target="_blank" class="transition-colors duration-300 font-semibold" style="color: var(--accent-primary);" onmouseover="this.style.color='var(--text-primary)'" onmouseout="this.style.color='var(--accent-primary)'">IIIT Hyderabad</a>
                                </span>
                            </div>
                            <div class="space-y-2 mb-4">
                                <p style="color: var(--text-secondary);">
                                    <em>Advisor: <a href="https://scholar.google.co.in/citations?user=5i1t_QgAAAAJ&hl=en" target="_blank" class="transition-colors duration-300" style="color: var(--accent-primary);" onmouseover="this.style.color='var(--text-primary)'" onmouseout="this.style.color='var(--accent-primary)'">Dr. Harikumar Kandath</a></em>
                                </p>
                            </div>
                            <p class="leading-relaxed" style="color: var(--text-secondary);">
                                Worked on Aerial Manipulator Control using 
                                <span class="font-semibold" style="color: var(--accent-primary);">Control Barrier Lyapunov constraints</span> within a 
                                <span class="font-semibold" style="color: var(--accent-primary);">Model Predictive Controller</span> for safe operation of the aerial manipulator in constrained environments.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Future Vision -->
                <div class="mb-16">
                    <h3 class="text-2xl font-bold mb-6 flex items-center" style="color: var(--text-primary);">
                        <span class="text-3xl mr-3">🔭</span>
                        Future Vision
                    </h3>
                    <div class="backdrop-blur-sm rounded-xl p-6 border" style="background: var(--bg-card); border-color: var(--border-color);">
                        <p class="leading-relaxed" style="color: var(--text-secondary);">
                            I am fascinated by how intelligent agents can learn structured, transferable policies that generalize across tasks embodiments, and environments, moving toward autonomous systems capable of learning and reasoning like humans. My long-term goal is to develop generalist robot policies that unify learning, reasoning, and control, advancing adaptable embodied agents for diverse real-world tasks.
                        </p>
                    </div>
                </div>

                <!-- Beyond Research -->
                <div class="mb-16">
                    <h3 class="text-2xl font-bold mb-6 flex items-center" style="color: var(--text-primary);">
                        <span class="text-3xl mr-3">☕</span>
                        Beyond Research
                    </h3>
                    <div class="backdrop-blur-sm rounded-xl p-6 border" style="background: var(--bg-card); border-color: var(--border-color);">
                        <p class="leading-relaxed" style="color: var(--text-secondary);">
                            Outside the lab, I enjoy 
                            <span class="inline-flex items-center mx-1"><span class="text-2xl mr-1">♟️</span>Chess</span>, 
                            <span class="inline-flex items-center mx-1"><span class="text-2xl mr-1">🏸</span>Squash</span>, and 
                            <span class="inline-flex items-center mx-1"><span class="text-2xl mr-1">🏓</span>Table Tennis</span>. 
                            I'm a dedicated <span class="inline-flex items-center mx-1"><span class="text-2xl mr-1">☕</span>coffee enthusiast</span> who enjoys strategy both on and off the board. I also enjoy reading books, watching sci-fi movies and TV shows.
                        </p>
                    </div>
                </div>

                <!-- Stats Section -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="backdrop-blur-sm rounded-xl p-6 border text-center transition-all duration-300" style="background: var(--bg-card); border-color: var(--border-color);" onmouseover="this.style.borderColor='var(--accent-primary)'" onmouseout="this.style.borderColor='var(--border-color)'">
                        <div class="text-4xl font-bold mb-2" style="color: var(--accent-primary);">5+</div>
                        <div class="font-medium" style="color: var(--text-secondary);">Years Research Experience</div>
                    </div>
                    <div class="backdrop-blur-sm rounded-xl p-6 border text-center transition-all duration-300" style="background: var(--bg-card); border-color: var(--border-color);" onmouseover="this.style.borderColor='var(--accent-primary)'" onmouseout="this.style.borderColor='var(--border-color)'">
                        <div class="text-4xl font-bold mb-2" style="color: var(--accent-primary);">2+</div>
                        <div class="font-medium" style="color: var(--text-secondary);">Years Job Experience</div>
                    </div>
                    <div class="backdrop-blur-sm rounded-xl p-6 border text-center transition-all duration-300" style="background: var(--bg-card); border-color: var(--border-color);" onmouseover="this.style.borderColor='var(--accent-primary)'" onmouseout="this.style.borderColor='var(--border-color)'">
                        <div class="text-4xl font-bold mb-2" style="color: var(--accent-primary);">3+</div>
                        <div class="font-medium" style="color: var(--text-secondary);">Publications & Patents</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Research Section -->
    <section id="research" class="py-20" style="background: var(--bg-secondary);">
        <div class="max-w-6xl mx-auto px-6">
            <h2 class="text-4xl font-semibold mb-12 text-center" style="color: var(--accent-primary);">
                Research Interests
            </h2>
            <div class="text-center mb-12">
                <p class="text-lg max-w-5xl mx-auto leading-relaxed" style="color: var(--text-secondary);">
                    My research focuses on advancing artificial intelligence through Long-Horizon Planning, Sequential Decision-Making, and Human-AI Collaboration. My objective is to engineer autonomous systems capable of exhibiting strategic planning, adaptive behavior, and safe, robust control when operating in complex, uncertain environments.
                </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="backdrop-blur-sm rounded-2xl shadow-lg text-center transition-all duration-300 hover:transform hover:-translate-y-1" style="background: var(--bg-card); padding: 2rem; border: 1px solid var(--border-color);">
                    <div class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6" style="background: var(--border-color);">
                        <span class="text-3xl">🤖</span>
                    </div>
                    <h3 class="text-xl font-semibold mb-4" style="color: var(--text-primary);">Reinforcement Learning</h3>
                    <p class="leading-relaxed" style="color: var(--text-secondary);">
                        Develop algorithms that enable agents to learn close-to-optimal planning and control strategies in robotics, leveraging human demonstrations, fixed datasets, or interactions with dynamic environments.
                    </p>
                </div>
                
                <div class="backdrop-blur-sm rounded-2xl shadow-lg text-center transition-all duration-300 hover:transform hover:-translate-y-1" style="background: var(--bg-card); padding: 2rem; border: 1px solid var(--border-color);">
                    <div class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6" style="background: var(--border-color);">
                        <span class="text-3xl">📈</span>
                    </div>
                    <h3 class="text-xl font-semibold mb-4" style="color: var(--text-primary);">Sequence Modelling</h3>
                    <p class="leading-relaxed" style="color: var(--text-secondary);">
                        Design models that predict and understand sequential data, including temporal patterns, trajectories, and planning sequences.
                    </p>
                </div>
                
                <div class="backdrop-blur-sm rounded-2xl shadow-lg text-center transition-all duration-300 hover:transform hover:-translate-y-1" style="background: var(--bg-card); padding: 2rem; border: 1px solid var(--border-color);">
                    <div class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6" style="background: var(--border-color);">
                        <span class="text-3xl">🎯</span>
                    </div>
                    <h3 class="text-xl font-semibold mb-4" style="color: var(--text-primary);">Decision Making under Uncertainty</h3>
                    <p class="leading-relaxed" style="color: var(--text-secondary);">
                        Develop methods for robust and adaptive decision-making in partially observable or stochastic environments.
                    </p>
                </div>
                
                <div class="backdrop-blur-sm rounded-2xl shadow-lg text-center transition-all duration-300 hover:transform hover:-translate-y-1" style="background: var(--bg-card); padding: 2rem; border: 1px solid var(--border-color);">
                    <div class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6" style="background: var(--border-color);">
                        <span class="text-3xl">👥</span>
                    </div>
                    <h3 class="text-xl font-semibold mb-4" style="color: var(--text-primary);">Multi-Agent Reinforcement Learning (MARL)</h3>
                    <p class="leading-relaxed" style="color: var(--text-secondary);">
                        Study interactions of multiple agents learning together, including cooperation, competition, and strategic reasoning.
                    </p>
                </div>
                
                <div class="backdrop-blur-sm rounded-2xl shadow-lg text-center transition-all duration-300 hover:transform hover:-translate-y-1" style="background: var(--bg-card); padding: 2rem; border: 1px solid var(--border-color);">
                    <div class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6" style="background: var(--border-color);">
                        <span class="text-3xl">🛡️</span>
                    </div>
                    <h3 class="text-xl font-semibold mb-4" style="color: var(--text-primary);">Safe and Robust Control</h3>
                    <p class="leading-relaxed" style="color: var(--text-secondary);">
                        Design control strategies for autonomous systems that ensure safety, reliability, and robustness under uncertainty.
                    </p>
                </div>
                
                <div class="backdrop-blur-sm rounded-2xl shadow-lg text-center transition-all duration-300 hover:transform hover:-translate-y-1" style="background: var(--bg-card); padding: 2rem; border: 1px solid var(--border-color);">
                    <div class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6" style="background: var(--border-color);">
                        <span class="text-3xl">🗺️</span>
                    </div>
                    <h3 class="text-xl font-semibold mb-4" style="color: var(--text-primary);">Planning</h3>
                    <p class="leading-relaxed" style="color: var(--text-secondary);">
                        Develop algorithms for efficient and adaptive planning in robotics and AI systems, including long-horizon decision-making.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Publications Section -->
    <section id="publications" class="section">
        <div class="max-w-6xl mx-auto px-6">
            <h2 class="section-title">Publications & Patents</h2>
            <div class="section-content">
                <div class="publications-container">
                    <div class="publication-tile">
                        <div class="publication-header">
                            <div class="publication-type submission">Submission</div>
                            <div class="publication-date">Oct 2025</div>
                    </div>
                        <h3>Efficient Zero-Shot Coordination via Offline Policy Diversity and Online Belief Reasoning</h3>
                        <p class="authors">Anonymous</p>
                        <p class="venue">ICLR 2026 Conference Submission</p>
                        <div class="publication-actions">
                            <a href="https://drive.google.com/file/d/1KMUiU1Ze_I2ZgC0N5dFkpX_ucFn5C_G5/view?usp=sharing" target="_blank" class="publication-link">View Paper →</a>
                            <button class="expand-btn" onclick="toggleAbstract(this)">
                                <span class="expand-text">Read Abstract</span>
                                <span class="expand-icon">▼</span>
                            </button>
                        </div>
                        <div class="abstract-full" style="display: none;">
                            <p>A central challenge in multi-agent reinforcement learning is <strong>zero-shot coordination (ZSC)</strong>: the ability of agents to collaborate with previously unseen partners. Existing approaches, such as population-based training or convention-avoidance methods, improve ZSC but typically rely on extensive online interaction, leading to high sample complexity. A natural alternative is to leverage preexisting interaction datasets through offline learning. However, offline training alone is insufficient for effective ZSC, as agents tend to overfit to the conventions present in the dataset and struggle to adapt to novel partners. To address this limitation, we propose an <em>offline-to-online ZSC</em> framework that combines offline dataset diversity with efficient online adaptation. In the offline stage, trajectories are embedded and clustered into behavioral modes to train specialized agents and their belief models, from which a best-response agent is learned. In the online stage, this agent is refined through belief-guided counterfactual rollouts, where belief models simulate alternative successor states under different teammate behaviors, thereby expanding the training distribution beyond the dataset. Experiments on the ZSC benchmark <em>Hanabi</em> in 2-player settings, as well as in human-AI coordination, demonstrate that our approach achieves state-of-the-art performance with unseen partners while significantly reducing the amount of online interaction.</p>
                        </div>
                    </div>

                    <div class="publication-tile">
                        <div class="publication-header">
                            <div class="publication-type publication">Publication</div>
                            <div class="publication-date">2024/03/24</div>
                    </div>
                        <h3>Task planning for object rearrangement in multi-room environments</h3>
                        <p class="authors">Karan Mirakhor, Sourav Ghosh, Dipanjan Das, Brojeshwar Bhowmick</p>
                        <p class="venue">Proceedings of the AAAI Conference on Artificial Intelligence, 2024 (Oral)</p>
                        <div class="publication-actions">
                            <a href="https://ojs.aaai.org/index.php/AAAI/article/view/28902" target="_blank" class="publication-link">View Paper →</a>
                            <button class="expand-btn" onclick="toggleAbstract(this)">
                                <span class="expand-text">Read Abstract</span>
                                <span class="expand-icon">▼</span>
                            </button>
                    </div>
                        <div class="abstract-full" style="display: none;">
                            <p>Object rearrangement in a multi-room setup should produce a reasonable plan that reduces the agent's overall travel and the number of steps. Recent state-of-the-art methods fail to produce such plans because they rely on explicit exploration for discovering unseen objects due to partial observability and a heuristic planner to sequence the actions for rearrangement. This paper proposes a novel task planner to efficiently plan a sequence of actions to discover unseen objects and rearrange misplaced objects within an untidy house to achieve a desired tidy state. The proposed method introduces several innovative techniques, including (i) a method for discovering unseen objects using commonsense knowledge from large language models, (ii) a collision resolution and buffer prediction method based on Cross-Entropy Method to handle blocked goal and swap cases, (iii) a directed spatial graph-based state space for scalability, and (iv) deep reinforcement learning (RL) for producing an efficient plan to simultaneously discover unseen objects and rearrange the visible misplaced ones to minimize the overall traversal. The paper also presents new metrics and a benchmark dataset called MoPOR to evaluate the effectiveness of the rearrangement planning in a multi-room setting. The experimental results demonstrate that the proposed method effectively addresses the multi-room rearrangement problem.</p>
                    </div>
                </div>

                    <div class="publication-tile">
                        <div class="publication-header">
                            <div class="publication-type publication">Publication</div>
                            <div class="publication-date">2024</div>
                        </div>
                        <h3>Task planning for visual room rearrangement under partial observability</h3>
                        <p class="authors">Karan Mirakhor, Sourav Ghosh, Dipanjan Das, Brojeshwar Bhowmick</p>
                        <p class="venue">The Twelfth International Conference on Learning Representations (ICLR), 2024</p>
                        <div class="publication-actions">
                            <a href="https://proceedings.iclr.cc/paper_files/paper/2024/hash/13b28ea4105bf409ab6b8ac8184af812-Abstract-Conference.html" target="_blank" class="publication-link">View Paper →</a>
                            <button class="expand-btn" onclick="toggleAbstract(this)">
                                <span class="expand-text">Read Abstract</span>
                                <span class="expand-icon">▼</span>
                            </button>
                        </div>
                        <div class="abstract-full" style="display: none;">
                            <p>This paper presents a novel hierarchical task planner under partial observability that empowers an embodied agent to use visual input to efficiently plan a sequence of actions for simultaneous object search and rearrangement in an untidy room, to achieve a desired tidy state. The paper introduces (i) a novel Search Network that utilizes commonsense knowledge from large language models to find unseen objects, (ii) a Deep RL network trained with proxy reward, along with (iii) a novel graph-based state representation to produce a scalable and effective planner that interleaves object search and rearrangement to minimize the number of steps taken and overall traversal of the agent, as well as to resolve blocked goal and swap cases, and (iv) a sample-efficient cluster-biased sampling for simultaneous training of the proxy reward network along with the Deep RL network. Furthermore, the paper presents new metrics and a benchmark dataset - RoPOR, to measure the effectiveness of rearrangement planning. Experimental results show that our method significantly outperforms the state-of-the-art rearrangement methods Weihs et al. (2021a); Gadre et al. (2022); Sarch et al. (2022); Ghosh et al. (2022).</p>
                        </div>
                    </div>

                    <div class="publication-tile">
                        <div class="publication-header">
                            <div class="publication-type publication">Publication</div>
                            <div class="publication-date">2023/06/13</div>
                        </div>
                        <h3>Predictive barrier lyapunov function based control for safe trajectory tracking of an aerial manipulator</h3>
                        <p class="authors">Vedant Mundheda, Karan Mirakhor, KS Rahul, Harikumar Kandath, Nagamanikandan Govindan</p>
                        <p class="venue">European Control Conference (ECC), 2023</p>
                        <div class="publication-actions">
                            <a href="https://ieeexplore.ieee.org/document/10178336" target="_blank" class="publication-link">View Paper →</a>
                            <button class="expand-btn" onclick="toggleAbstract(this)">
                                <span class="expand-text">Read Abstract</span>
                                <span class="expand-icon">▼</span>
                            </button>
                        </div>
                        <div class="abstract-full" style="display: none;">
                            <p>This paper proposes a novel controller framework that provides trajectory tracking for an Aerial Manipulator (AM) while ensuring the safe operation of the system under unknown bounded disturbances. The AM considered here is a 2-DOF (degrees-of-freedom) manipulator rigidly attached to a UAV. Our proposed controller structure follows the conventional inner loop PID control for attitude dynamics and an outer loop controller for tracking a reference trajectory. The outer loop control is based on the Model Predictive Control (MPC) with constraints derived using the Barrier Lyapunov Function (BLF) for the safe operation of the AM. BLF-based constraints are proposed for two objectives, viz. 1) To avoid the AM from colliding with static obstacles like a rectangular wall, and 2) To maintain the end effector of the manipulator within the desired workspace. The proposed BLF ensures that the above-mentioned objectives are satisfied even in the presence of unknown bounded disturbances. The capabilities of the proposed controller are demonstrated through high-fidelity non-linear simulations with parameters derived from a real laboratory scale AM. We compare the performance of our controller with other state-of-the-art MPC controllers for AM.</p>
                        </div>
                    </div>

                    <div class="publication-tile">
                        <div class="publication-header">
                            <div class="publication-type patent">Patent</div>
                            <div class="publication-date">2025/02/13</div>
                        </div>
                        <h3>Method and system for task planning for visual room rearrangement under partial observability</h3>
                        <p class="authors">Dipanjan Das, Karan Mirakhor, Sourav Ghosh, Brojeshwar Bhowmick</p>
                        <p class="venue">US Patent Office (Application 18/760,514)</p>
                        <div class="publication-actions">
                            <a href="https://patents.google.com/patent/US20250053156A1/en" target="_blank" class="publication-link">View Patent →</a>
                            <button class="expand-btn" onclick="toggleAbstract(this)">
                                <span class="expand-text">Read Abstract</span>
                                <span class="expand-icon">▼</span>
                            </button>
                        </div>
                        <div class="abstract-full" style="display: none;">
                            <p>A method and system for task planning for visual room rearrangement under partial observability is disclosed. The system or the robotic agent utilizes a visual input to efficiently plan a sequence of actions for simultaneous object search and rearrangement in an untidy room, to achieve a desired tidy state. Unlike search networks in the art that follow ad hoc approach, the method discloses a search network utilizing commonsense knowledge from large language models to find unseen objects. A Deep RL network used for task planning is trained with proxy reward, along with unique graph-based state representation to produce a scalable and effective planner that interleaves object search and rearrangement to minimize the number of steps taken and overall traversal of the agent, and to resolve blocked goal and swap cases. Sample efficient cluster-biased sampling is utilized for simultaneous training of the proxy reward network along with the Deep RL network.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="section">
        <div class="max-w-6xl mx-auto px-6">
            <h2 class="section-title">Projects</h2>
            <div class="section-content">
                <p>Selected projects showcasing my work in AI and robotics</p>
                
                <div class="projects-container">
                    <div class="project-tile" id="project-1">
                        <div class="project-content">
                            <div class="project-header">
                                <h3>Just imagine: Closed Loop VLA with World Modelling for Long-Horizon Tasks</h3>
                                <div class="project-links-top">
                                    <a href="https://docs.google.com/presentation/d/1zFm-VuV9FV5P4Vt70gTIIagh_6zWmC2OEriu3IMXxfQ/edit?usp=sharing" target="_blank">Slides</a>
                                </div>
                            </div>
                            <p class="project-summary">Working on a closed-loop Visual-Language-Action (VLA) pipeline that leverages world models for imagination-driven reasoning, simulating future states via pose-conditioned robot rendering.</p>
                            <div class="project-details">
                                <p>Learned dense proxy rewards from sparse human demonstration videos to guide an actor-critic framework, with evaluation on the <a href="https://libero-project.github.io/main.html" target="_blank">LIBERO benchmark</a> for tabletop manipulation tasks. See <a href="https://docs.google.com/presentation/d/1zFm-VuV9FV5P4Vt70gTIIagh_6zWmC2OEriu3IMXxfQ/edit?usp=sharing" target="_blank">slides</a>.</p>
                            </div>
                        </div>
                        <div class="project-toggle">
                            <button aria-label="Toggle details" onclick="toggleProject('project-1', this)">+</button>
                        </div>
                    </div>

                    <div class="project-tile" id="project-2">
                        <div class="project-content">
                            <div class="project-header">
                                <h3>ReMov3r: Real-Time Monocular Video to 3D Reconstruction</h3>
                                <div class="project-links-top">
                                    <a href="https://drive.google.com/file/d/1SCU6ewW7yld8Vf9UZZhS0eCzKZog-N4J/view?usp=sharing" target="_blank">Report</a>
                                </div>
                            </div>
                            <p class="project-summary">Designed a transformer-based architecture with cross-attentional fusion, hierarchical spatio-temporal representation, and confidence-guided depth refinement for improved 3D reconstruction.</p>
                            <div class="project-details">
                                <p>Enhanced trajectory estimation via adaptive keyframe selection and state representation learning, outperforming <a href="https://cvpr.thecvf.com/virtual/2025/poster/34897" target="_blank">CUT3R</a> and <a href="https://cvpr.thecvf.com/virtual/2025/poster/34485" target="_blank">SLAM3R</a> on <a href="http://www.scan-net.org/" target="_blank">ScanNetV2</a> and <a href="https://www.microsoft.com/en-us/research/project/rgb-d-dataset-7-scenes/" target="_blank">7-Scenes</a> benchmarks. See <a href="https://drive.google.com/file/d/1SCU6ewW7yld8Vf9UZZhS0eCzKZog-N4J/view?usp=sharing" target="_blank">report</a>.</p>
                            </div>
                        </div>
                        <div class="project-toggle">
                            <button aria-label="Toggle details" onclick="toggleProject('project-2', this)">+</button>
                        </div>
                    </div>

                    <div class="project-tile" id="project-3">
                        <div class="project-content">
                            <div class="project-header">
                                <h3>Multimodal House Rearrangement using Carrier Objects as Tools</h3>
                                <div class="project-links-top">
                                    <a href="https://drive.google.com/file/d/1E9NNGx_fdIOdlLSDMpl0OM7nBuvmYiPF/view?usp=sharing" target="_blank">Report</a>
                                </div>
                            </div>
                            <p class="project-summary">Extended prior work on embodied agents to enable efficient house rearrangement by grouping and transporting multiple objects simultaneously through the use of carrier tools, based on language or visual inputs.</p>
                            <div class="project-details">
                                <p>Leveraged LLMs for semantic reasoning and carrier classification; employed MCTS, CEM, and Deep RL for object grouping, space management, and robust task planning.</p>
                            </div>
                        </div>
                        <div class="project-toggle">
                            <button aria-label="Toggle details" onclick="toggleProject('project-3', this)">+</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Awards Section -->
    <section id="awards" class="section">
        <div class="container">
            <h2 class="section-title">Awards & Recognition</h2>
            <div class="section-content">
                <div class="awards-container">
                    <div class="award-tile">
                        <div class="award-meta">
                            <span class="award-year">2024</span>
                        </div>
                        <div class="award-content">
                            <h3>JN Tata Endowment Scholarship</h3>
                            <p>Since 1892, the J. N. Tata Endowment has awarded loan scholarships to over 5,700 Indian students for higher studies overseas. The awards are merit-based, recognizing "the best and most gifted so as to make them of the greatest service to the country”.</p>
                        </div>
                    </div>

                    <div class="award-tile">
                        <div class="award-meta">
                            <span class="award-year">2022</span>
                        </div>
                        <div class="award-content">
                            <h3>Program Gold Medal</h3>
                            <p>Achieved the Highest Cumulative Grade Point Average (GPA) within the Bachelor of Technology program in Electronics and Communication Engineering at the International Institute of Information Technology - Hyderabad.</p>
                        </div>
                    </div>

                    <div class="award-tile">
                        <div class="award-meta">
                            <span class="award-year">2022</span>
                        </div>
                        <div class="award-content">
                            <h3>Runners up in ARTPARK Robotics Challenge</h3>
                            <p>Stood 2nd out of 133 teams that took part in Nationwide robotics competition organised by ARTPARK for building an Autonomous Janitor Bot. Team lead for perception and planning stack to develop the vision algorithms used for segmentation, clustering, detection of doors, markers, grasp points etc. and also implemented MPC with static obstacle avoidance. Integrated the state of the art RTAB-MAP SLAM and move-base planner for bot localisation, 3D environment mapping and autonomous trajectory generation.</p>
                        </div>
                    </div>

                    <div class="award-tile">
                        <div class="award-meta">
                            <span class="award-year">2018-2021</span>
                        </div>
                        <div class="award-content">
                            <h3>Dean's List Award for Academic Excellence</h3>
                            <p>Among the Top 2% in the Bachelor of Technology class of 2018 for academic excellence from year 2018 to 2021 at the International Institute of Information Technology - Hyderabad.</p>
                        </div>
                    </div>

                    <div class="award-tile">
                        <div class="award-meta">
                            <span class="award-year">2020</span>
                        </div>
                        <div class="award-content">
                            <h3>Semi - Finalist in Flipkart Grid 2.0 challenge</h3>
                            <p>Ranked in the Top 5% (Top 25 out of 500+ teams) in the Flipkart Autonomous Stair Climbing Robot competition. Designed a novel Tri-wheel mobile robot for autonomous stair detection, alignment, and maneuvering, integrating linear actuators for payload stabilization.</p>
                        </div>
                    </div>

                    <div class="award-tile">
                        <div class="award-meta">
                            <span class="award-year">2017</span>
                        </div>
                        <div class="award-content">
                            <h3>KVPY SA Fellow 2016</h3>
                            <p>Issued by Department of Science and Technology, Government of India in collaboration with Indian Institute of Science, Bangalore for securing All India Rank of 299 in KVPY - 2016 out of 1 Million students.</p>
                        </div>
                    </div>

                    <div class="award-tile">
                        <div class="award-meta">
                            <span class="award-year">2016</span>
                        </div>
                        <div class="award-content">
                            <h3>National Topper in NSTSE (National Level Science Talent Search Exam)</h3>
                            <p>Issued by the Unified Council for securing All India Rank (AIR) - 1 among Class - 10 students across the country.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="section">
        <div class="container">
            <h2 class="section-title">Get In Touch</h2>
            <div class="contact-container">
                <div class="contact-tile">
                        <h3>📧 Email</h3>
                        <p>karanmirakhor@gmail.com</p>
                        <a href="mailto:karanmirakhor@gmail.com">Send Email →</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2025 Karan Mirakhor. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Simple smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Simple navbar background change on scroll
        window.addEventListener('scroll', function() {
            const nav = document.querySelector('nav');
            if (window.scrollY > 100) {
                nav.style.background = 'var(--bg-nav)';
                nav.style.backdropFilter = 'blur(15px)';
            } else {
                nav.style.background = 'var(--bg-nav)';
                nav.style.backdropFilter = 'blur(15px)';
            }
        });

        // Active navigation highlighting
        function updateActiveNav() {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.nav-links a');
            const mobileNavLinks = document.querySelectorAll('.mobile-nav-links a');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                const sectionHeight = section.clientHeight;
                if (window.scrollY >= sectionTop && window.scrollY < sectionTop + sectionHeight) {
                    current = section.getAttribute('id');
                }
            });
            
            // Update desktop navigation
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
            
            // Update mobile navigation
            mobileNavLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        }
        
        window.addEventListener('scroll', updateActiveNav);
        updateActiveNav(); // Run on page load

        // Particle Animation System
        class ParticleAnimation {
            constructor() {
                this.canvas = document.getElementById('particles-canvas');
                this.particles = [];
                this.connections = [];
                this.mouse = { x: 0, y: 0 };
                this.animationId = null;
                
                // Configuration
                this.config = {
                    particleCount: window.innerWidth < 768 ? 15 : 25,
                    maxDistance: 150,
                    particleSize: { min: 2, max: 6 },
                    speed: 0.5,
                    connectionOpacity: 0.3,
                    highlightDistance: 100
                };
                
                this.init();
            }
            
            init() {
                this.createParticles();
                this.bindEvents();
                this.animate();
            }
            
            createParticles() {
                for (let i = 0; i < this.config.particleCount; i++) {
                    this.particles.push({
                        x: Math.random() * window.innerWidth,
                        y: Math.random() * window.innerHeight,
                        vx: (Math.random() - 0.5) * this.config.speed,
                        vy: (Math.random() - 0.5) * this.config.speed,
                        size: Math.random() * (this.config.particleSize.max - this.config.particleSize.min) + this.config.particleSize.min,
                        originalSize: 0,
                        highlighted: false
                    });
                }
            }
            
            bindEvents() {
                // Mouse movement
                document.addEventListener('mousemove', (e) => {
                    this.mouse.x = e.clientX;
                    this.mouse.y = e.clientY;
                });
                
                // Window resize
                window.addEventListener('resize', () => {
                    this.resize();
                });
                
                // Pause animation when tab is not visible
                document.addEventListener('visibilitychange', () => {
                    if (document.hidden) {
                        cancelAnimationFrame(this.animationId);
                    } else {
                        this.animate();
                    }
                });
            }
            
            resize() {
                // Adjust particle count for mobile
                this.config.particleCount = window.innerWidth < 768 ? 15 : 25;
                
                // Remove excess particles on mobile
                if (this.particles.length > this.config.particleCount) {
                    this.particles = this.particles.slice(0, this.config.particleCount);
                }
                
                // Add particles if needed
                while (this.particles.length < this.config.particleCount) {
                    this.particles.push({
                        x: Math.random() * window.innerWidth,
                        y: Math.random() * window.innerHeight,
                        vx: (Math.random() - 0.5) * this.config.speed,
                        vy: (Math.random() - 0.5) * this.config.speed,
                        size: Math.random() * (this.config.particleSize.max - this.config.particleSize.min) + this.config.particleSize.min,
                        originalSize: 0,
                        highlighted: false
                    });
                }
            }
            
            updateParticles() {
                this.particles.forEach(particle => {
                    // Update position
                    particle.x += particle.vx;
                    particle.y += particle.vy;
                    
                    // Bounce off edges
                    if (particle.x < 0 || particle.x > window.innerWidth) {
                        particle.vx *= -1;
                    }
                    if (particle.y < 0 || particle.y > window.innerHeight) {
                        particle.vy *= -1;
                    }
                    
                    // Keep particles in bounds
                    particle.x = Math.max(0, Math.min(window.innerWidth, particle.x));
                    particle.y = Math.max(0, Math.min(window.innerHeight, particle.y));
                    
                    // Check mouse proximity
                    const distance = Math.sqrt(
                        Math.pow(particle.x - this.mouse.x, 2) + 
                        Math.pow(particle.y - this.mouse.y, 2)
                    );
                    
                    particle.highlighted = distance < this.config.highlightDistance;
                });
            }
            
            createConnections() {
                this.connections = [];
                
                for (let i = 0; i < this.particles.length; i++) {
                    for (let j = i + 1; j < this.particles.length; j++) {
                        const particle1 = this.particles[i];
                        const particle2 = this.particles[j];
                        
                        const distance = Math.sqrt(
                            Math.pow(particle1.x - particle2.x, 2) + 
                            Math.pow(particle1.y - particle2.y, 2)
                        );
                        
                        if (distance < this.config.maxDistance) {
                            const angle = Math.atan2(particle2.y - particle1.y, particle2.x - particle1.x);
                            const opacity = (1 - distance / this.config.maxDistance) * this.config.connectionOpacity;
                            
                            this.connections.push({
                                x1: particle1.x,
                                y1: particle1.y,
                                x2: particle2.x,
                                y2: particle2.y,
                                distance: distance,
                                angle: angle,
                                opacity: opacity,
                                highlighted: particle1.highlighted || particle2.highlighted
                            });
                        }
                    }
                }
            }
            
            render() {
                // Clear canvas
                this.canvas.innerHTML = '';
                
                // Get current theme colors
                const computedStyle = getComputedStyle(document.body);
                const particleColor = computedStyle.getPropertyValue('--particle-color').trim();
                const particleGlow = computedStyle.getPropertyValue('--particle-glow').trim();
                const accentPrimary = computedStyle.getPropertyValue('--accent-primary').trim();
                
                // Render connections
                this.connections.forEach(connection => {
                    const line = document.createElement('div');
                    line.className = `connection-line ${connection.highlighted ? 'highlighted' : ''}`;
                    
                    const length = connection.distance;
                    const centerX = (connection.x1 + connection.x2) / 2;
                    const centerY = (connection.y1 + connection.y2) / 2;
                    
                    line.style.left = centerX - length / 2 + 'px';
                    line.style.top = centerY + 'px';
                    line.style.width = length + 'px';
                    line.style.opacity = connection.opacity;
                    line.style.transform = `rotate(${connection.angle}rad)`;
                    
                    this.canvas.appendChild(line);
                });
                
                // Render particles
                this.particles.forEach(particle => {
                    const particleEl = document.createElement('div');
                    particleEl.className = `particle ${particle.highlighted ? 'highlighted' : ''}`;
                    
                    particleEl.style.left = particle.x - particle.size / 2 + 'px';
                    particleEl.style.top = particle.y - particle.size / 2 + 'px';
                    particleEl.style.width = particle.size + 'px';
                    particleEl.style.height = particle.size + 'px';
                    
                    this.canvas.appendChild(particleEl);
                });
            }
            
            animate() {
                this.updateParticles();
                this.createConnections();
                this.render();
                
                this.animationId = requestAnimationFrame(() => this.animate());
            }
        }
        
        // Theme switching functionality
        function initThemeToggle() {
            const themeToggle = document.getElementById('theme-toggle');
            const body = document.body;
            
            // Get saved theme or default to light
            const savedTheme = localStorage.getItem('theme') || 'light';
            body.setAttribute('data-theme', savedTheme);
            updateThemeIcons(savedTheme);
            
            function toggleTheme() {
                const currentTheme = body.getAttribute('data-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                
                body.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                updateThemeIcons(newTheme);
            }
            
            function updateThemeIcons(theme) {
                const sunIcon = 'fas fa-sun';
                const moonIcon = 'fas fa-moon';
                const iconClass = theme === 'light' ? moonIcon : sunIcon;
                
                if (themeToggle) {
                    const icon = themeToggle.querySelector('i');
                    if (icon) {
                        icon.className = iconClass;
                    }
                }
            }
            
            // Add event listeners
            if (themeToggle) {
                themeToggle.addEventListener('click', toggleTheme);
            }
        }

        // Initialize particle animation when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            new ParticleAnimation();
            initGreetingRotation();
            initMobileMenu();
            initAwardTiles();
            initThemeToggle();
        });

        // Dynamic greeting rotation
        function initGreetingRotation() {
            const greetings = [
                'Hello!!',
                'Hi!',
                'Hola!',
                'Bonjour!',
                'Guten Tag!',
                'Ciao!',
                'こんにちは!',
                '안녕하세요!',
                '你好!',
                'Привет!',
                'Namaste!',
                'Salam!',
                'Shalom!',
                'Olá!',
                'Hej!'
            ];
            
            let currentIndex = 0;
            const greetingElement = document.getElementById('greeting');
            
            if (greetingElement) {
                const animateGreeting = () => {
                    // Fade out and move up
                    greetingElement.style.opacity = '0';
                    greetingElement.style.transform = 'translateY(-15px)';
                    
                    setTimeout(() => {
                        // Change text
                        currentIndex = (currentIndex + 1) % greetings.length;
                        greetingElement.textContent = greetings[currentIndex];
                        
                        // Fade in and move to position
                        greetingElement.style.opacity = '1';
                        greetingElement.style.transform = 'translateY(0)';
                    }, 400);
                };
                
                setInterval(animateGreeting, 3000);
            }
        }

        // Toggle abstract expansion
        function toggleAbstract(button) {
            const tile = button.closest('.publication-tile');
            const abstractFull = tile.querySelector('.abstract-full');
            const expandText = button.querySelector('.expand-text');
            const expandIcon = button.querySelector('.expand-icon');
            
            if (abstractFull.style.display === 'none') {
                abstractFull.style.display = 'block';
                expandText.textContent = 'Hide Abstract';
                expandIcon.textContent = '▲';
                button.classList.add('expanded');
            } else {
                abstractFull.style.display = 'none';
                expandText.textContent = 'Read Abstract';
                expandIcon.textContent = '▼';
                button.classList.remove('expanded');
            }
        }

        // Toggle project expansion
        function toggleProject(id, btn) {
            const el = document.getElementById(id);
            if (!el) return;
            const expanded = el.classList.toggle('expanded');
            if (btn) {
                btn.textContent = expanded ? '−' : '+';
                btn.setAttribute('aria-expanded', expanded ? 'true' : 'false');
            }
        }


        // Award tiles functionality
        function initAwardTiles() {
            const awardTiles = document.querySelectorAll('.award-tile');
            
            awardTiles.forEach(tile => {
                tile.addEventListener('click', (e) => {
                    e.stopPropagation();
                    
                    const isCurrentlyExpanded = tile.classList.contains('expanded');
                    
                    // Close all other tiles
                    awardTiles.forEach(otherTile => {
                        if (otherTile !== tile) {
                            otherTile.classList.remove('expanded');
                        }
                    });
                    
                    // Toggle current tile (clicking open tile will close it)
                    if (isCurrentlyExpanded) {
                        tile.classList.remove('expanded');
                    } else {
                        tile.classList.add('expanded');
                    }
                });
            });
            
            // Close all tiles when clicking outside
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.award-tile')) {
                    awardTiles.forEach(tile => {
                        tile.classList.remove('expanded');
                    });
                }
            });
        }

        // Mobile menu functionality
        function initMobileMenu() {
            const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
            const mobileNav = document.getElementById('mobile-nav');
            const mobileNavLinks = document.querySelectorAll('.mobile-nav-links a');
            
            if (mobileMenuToggle && mobileNav) {
                // Prevent event conflicts
                let isMenuOpen = false;
                
                const toggleMenu = (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    isMenuOpen = !isMenuOpen;
                    mobileNav.classList.toggle('active', isMenuOpen);
                    
                    const icon = mobileMenuToggle.querySelector('i');
                    if (icon) {
                        icon.classList.toggle('fa-bars', !isMenuOpen);
                        icon.classList.toggle('fa-times', isMenuOpen);
                    }
                };
                
                const closeMenu = () => {
                    isMenuOpen = false;
                    mobileNav.classList.remove('active');
                    const icon = mobileMenuToggle.querySelector('i');
                    if (icon) {
                        icon.classList.add('fa-bars');
                        icon.classList.remove('fa-times');
                    }
                };
                
                // Use both click and touch events for better mobile support
                mobileMenuToggle.addEventListener('click', toggleMenu, { passive: false });
                mobileMenuToggle.addEventListener('touchend', toggleMenu, { passive: false });
                
                // Close mobile menu when clicking on a link
                mobileNavLinks.forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        closeMenu();
                        
                        // Navigate to the section
                        const href = link.getAttribute('href');
                        if (href && href.startsWith('#')) {
                            const target = document.querySelector(href);
                            if (target) {
                                target.scrollIntoView({
                                    behavior: 'smooth',
                                    block: 'start'
                                });
                            }
                        }
                    });
                    
                    link.addEventListener('touchend', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        closeMenu();
                        
                        // Navigate to the section
                        const href = link.getAttribute('href');
                        if (href && href.startsWith('#')) {
                            const target = document.querySelector(href);
                            if (target) {
                                target.scrollIntoView({
                                    behavior: 'smooth',
                                    block: 'start'
                                });
                            }
                        }
                    });
                });
                
                // Close mobile menu when clicking outside
                document.addEventListener('click', (e) => {
                    if (isMenuOpen && !mobileMenuToggle.contains(e.target) && !mobileNav.contains(e.target)) {
                        closeMenu();
                    }
                });
                
                // Close menu on window resize
                window.addEventListener('resize', () => {
                    if (window.innerWidth > 768 && isMenuOpen) {
                        closeMenu();
                    }
                });
            }
        }
    </script>
</body>
</html>
